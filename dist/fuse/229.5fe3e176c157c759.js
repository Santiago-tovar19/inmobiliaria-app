"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[229],{6812:(T,c,e)=>{e.d(c,{Y:()=>i});var t=e(4650),o=e(4006),_=e(2340),f=e(6895),d=e(9549),g=e(4144),p=e(7392),C=e(4859);const u=["fileInput"];function h(a,n){if(1&a){const l=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(l);const s=t.oxw();return t.KtG(s.removeFile())}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}}const v=function(a,n){return{"w-10/12":a,"w-full":n}};let i=(()=>{class a{constructor(){this.fileChange=new t.vpe,this.label="Subir archivo",this.fileChanged=!1,this.fileName=new o.NI({value:"",disabled:!0}),this.base64=""}fileToBase64(l){return new Promise((r,s)=>{const m=new FileReader;m.readAsDataURL(l),m.onload=()=>r(m.result),m.onerror=E=>s(E)})}ngOnInit(){this.fileControl?.valueChanges.subscribe(l=>{l&&(this.base64=`${_.N.assets}/files/${l}`,this.fileName.setValue(l))})}ngOnChanges(l){}selectFile(l){this.fileChange.emit(l.target.files)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["file-input"]],viewQuery:function(l,r){if(1&l&&t.Gf(u,5),2&l){let s;t.iGM(s=t.CRH())&&(r.fileInput=s.first)}},inputs:{fileControl:"fileControl",fileChangedControl:"fileChangedControl",label:"label"},outputs:{fileChange:"fileChange"},features:[t.TTD],decls:13,vars:7,consts:[[1,"cont"],[1,"description"],[1,"w-full","file-input","flex","gap-2","items-center"],[3,"ngClass"],[1,"w-full"],["matInput","",1,"h-full","p-0",3,"formControl"],[1,"flex","items-center","gap-4"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"rounded","mr-1","p-0","bg-primary-300","text-on-primary-300","w-52",3,"click"],["type","file","multiple","",1,"hidden",3,"change"],["fileInput",""],["mat-button","",3,"click"]],template:function(l,r){if(1&l){const s=t.EpF();t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"mat-form-field",4),t._UZ(6,"input",5),t.TgZ(7,"div",6),t.YNc(8,h,3,0,"button",7),t.TgZ(9,"button",8),t.NdJ("click",function(){t.CHM(s);const E=t.MAs(12);return t.KtG(E.click())}),t._uU(10,"Seleccionar archivo"),t.qZA()(),t.TgZ(11,"input",9,10),t.NdJ("change",function(E){return r.selectFile(E)}),t.qZA()()()()()}2&l&&(t.xp6(2),t.Oqu(r.label),t.xp6(2),t.Q6J("ngClass",t.WLB(4,v,r.base64,!r.base64)),t.xp6(2),t.Q6J("formControl",r.fileName),t.xp6(2),t.Q6J("ngIf",r.fileName.value))},dependencies:[f.mk,f.O5,o.Fj,o.JJ,o.oH,d.KE,g.Nt,p.Hw,C.lW],styles:[".file-input .mat-form-field-flex{padding-right:0!important}  .file-input .mat-form-field-wrapper{margin:0!important}.file-input[_ngcontent-%COMP%]{border:2px dashed #ccc;border-radius:20px;padding:20px}.description[_ngcontent-%COMP%]{font-weight:500;color:#1e293bd9;letter-spacing:normal;margin-left:6px;margin-bottom:8px}"]}),a})()},979:(T,c,e)=>{e.d(c,{c:()=>C});var t=e(6895),o=e(4006),_=e(4144),f=e(9549),d=e(4859),g=e(7392),p=e(4650);let C=(()=>{class u{}return u.\u0275fac=function(v){return new(v||u)},u.\u0275mod=p.oAB({type:u}),u.\u0275inj=p.cJS({imports:[t.ez,o.u5,o.UX,_.c,f.lN,g.Ps,d.ot]}),u})()},1229:(T,c,e)=>{e.r(c),e.d(c,{TestModule:()=>v});var t=e(6895),o=e(4650),_=e(2340),f=e(529);let d=(()=>{class i{constructor(n){this._http=n}uploadFile(n){const l=new FormData;return l.append("file",n),this._http.post(`${_.N.api}/contacts/upload-file`,l)}}return i.\u0275fac=function(n){return new(n||i)(o.LFG(f.eN))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var g=e(6812);let p=(()=>{class i{constructor(n){this._testService=n}ngOnInit(){}fileChange(n){console.log(n),this.file=n}uploadFile(){this._testService.uploadFile(this.file).subscribe(n=>{console.log(n)})}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(d))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-test"]],decls:6,vars:0,consts:[[1,"w-140"],[3,"fileChange"],[3,"click"]],template:function(n,l){1&n&&(o.TgZ(0,"div")(1,"div",0)(2,"file-input",1),o.NdJ("fileChange",function(s){return l.fileChange(s)}),o.qZA()(),o.TgZ(3,"div")(4,"button",2),o.NdJ("click",function(){return l.uploadFile()}),o._uU(5,"Cargar"),o.qZA()()())},dependencies:[g.Y]}),i})();var C=e(4364),u=e(979);const h=[{path:"",component:p}];let v=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[t.ez,C.Bz.forChild(h),u.c]}),i})()}}]);