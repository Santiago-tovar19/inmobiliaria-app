"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[154],{2154:(Le,v,i)=>{i.r(v),i.d(v,{UsersModule:()=>Ie});var p=i(6895),c=i(4364),m=i(7155),y=i(7579),S=i(2722),e=i(4650),x=i(4781),n=i(4006),U=i(4031),d=i(4859),u=i(9549),f=i(4144),N=i(2494),b=i(8739);function w(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"creado"),e.qZA())}function M(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1,"actualizado"),e.qZA())}function Y(t,a){if(1&t&&(e.TgZ(0,"fuse-alert",42)(1,"span",43),e._uU(2,"Exito"),e.qZA(),e._uU(3," El usuario ha sido "),e.YNc(4,w,2,0,"span",44),e.YNc(5,M,2,0,"span",44),e._uU(6," exitosamente "),e.qZA()),2&t){const r=e.oxw();e.Q6J("type","success"),e.xp6(4),e.Q6J("ngIf","1"===r.m),e.xp6(1),e.Q6J("ngIf","2"===r.m)}}function I(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1,"ID"),e.qZA())}function Q(t,a){if(1&t&&(e.TgZ(0,"td",46)(1,"span",47),e._uU(2),e.qZA()()),2&t){const r=a.$implicit;e.xp6(2),e.hij(" ",r.id," ")}}function J(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1,"Nombres y apellidos"),e.qZA())}function L(t,a){if(1&t&&(e.TgZ(0,"td",48)(1,"span",47),e._uU(2),e.qZA()()),2&t){const r=a.$implicit;e.xp6(2),e.hij(" ",r.full_name," ")}}function q(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1,"Email"),e.qZA())}function k(t,a){if(1&t&&(e.TgZ(0,"td",49)(1,"span",47),e._uU(2),e.qZA()()),2&t){const r=a.$implicit;e.xp6(2),e.hij(" ",r.email," ")}}function D(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1,"Rol"),e.qZA())}function E(t,a){if(1&t&&(e.TgZ(0,"td",50)(1,"span",47),e._uU(2),e.qZA()()),2&t){const r=a.$implicit;e.xp6(2),e.hij(" ",(null==r.role?null:r.role.name)||"-"," ")}}function O(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1,"Telefono Corredora"),e.qZA())}function B(t,a){if(1&t&&(e.TgZ(0,"td",51)(1,"span",47),e._uU(2),e.qZA()()),2&t){const r=a.$implicit;e.xp6(2),e.hij(" ",r.broker_phone||"-"," ")}}function G(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1,"Direccion Corredora"),e.qZA())}function P(t,a){if(1&t&&(e.TgZ(0,"td",52)(1,"span",47),e._uU(2),e.qZA()()),2&t){const r=a.$implicit;e.xp6(2),e.hij(" ",r.broker_address||"-"," ")}}function $(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1,"Status Registro"),e.qZA())}function j(t,a){1&t&&(e.TgZ(0,"div",56),e._uU(1,"Pendiente"),e.qZA())}function R(t,a){1&t&&(e.TgZ(0,"div",57),e._uU(1,"Completado"),e.qZA())}function z(t,a){if(1&t&&(e.TgZ(0,"td",53)(1,"span",47),e.YNc(2,j,2,0,"div",54),e.YNc(3,R,2,0,"div",55),e.qZA()()),2&t){const r=a.$implicit;e.xp6(2),e.Q6J("ngIf",!r.email_verified_at),e.xp6(1),e.Q6J("ngIf",r.email_verified_at)}}function V(t,a){1&t&&(e.TgZ(0,"th",45),e._uU(1,"Acciones"),e.qZA())}function H(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"div",60)(1,"button",61),e.NdJ("click",function(){e.CHM(r);const s=e.oxw().$implicit,l=e.oxw();return e.KtG(l.resendSignUpEmail(s.id))}),e._uU(2,"Reenviar Correo"),e.qZA()()}}function X(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"td",58)(1,"div",59)(2,"div",60)(3,"button",61),e.NdJ("click",function(){const l=e.CHM(r).$implicit,g=e.oxw();return e.KtG(g.goToUser(l.id))}),e._uU(4,"Editar"),e.qZA()(),e.YNc(5,H,3,0,"div",62),e.qZA()()}if(2&t){const r=a.$implicit;e.xp6(5),e.Q6J("ngIf",!r.email_verified_at)}}function K(t,a){1&t&&e._UZ(0,"tr",63)}function W(t,a){1&t&&e._UZ(0,"tr",64)}const ee=function(){return[10,25,100]};let te=(()=>{class t{constructor(r,o,s,l,g){this._usersService=r,this._activatedRoute=o,this._router=s,this._formBuilder=l,this._globalService=g,this.columns=["id","nombres","email","role","broker_phone","broker_address","status","acciones"],this.m=null,this._unsubscribeAll=new y.x}paginate(r){this.getUsers(this.getValues(),{page:r.pageIndex+1,perPage:r.pageSize})}ngOnInit(){this.seachFormGroup=this._formBuilder.group({file:[null],city:[null],company:[null],profession:[null],fileSelect:["Seleccionar"],citySelect:["Seleccionar"],companySelect:["Seleccionar"],professionSelect:["Seleccionar"]}),this._activatedRoute.params.pipe((0,S.R)(this._unsubscribeAll)).subscribe(r=>{r.m&&(this.m=r.m)}),this.getUsers({})}getUsers(r,o={page:1,perPage:10}){this._usersService.getList(r,o).subscribe(s=>{this.dataSource=new m.by(s.data.data),this.usersPaginated=s.data})}filter(r,o){const s=r.toLowerCase();return o.filter(l=>(l||"").toLowerCase().includes(s))}fileChange(r){this.file=r}goToUser(r){this._router.navigate(["usuarios","editar",r])}uploadFile(){this._usersService.uploadFile(this.file).subscribe(r=>{console.log(r)})}filterUsers(){console.log(this.getValues()),this.getUsers(this.getValues())}getValues(){const r={};return this.seachFormGroup.value.fileSelect&&"Seleccionar"!==this.seachFormGroup.value.fileSelect&&(r.file=this.seachFormGroup.value.fileSelect),this.seachFormGroup.value.citySelect&&"Seleccionar"!==this.seachFormGroup.value.citySelect&&(r.city=this.seachFormGroup.value.citySelect),this.seachFormGroup.value.companySelect&&"Seleccionar"!==this.seachFormGroup.value.companySelect&&(r.company=this.seachFormGroup.value.companySelect),this.seachFormGroup.value.professionSelect&&"Seleccionar"!==this.seachFormGroup.value.professionSelect&&(r.profession=this.seachFormGroup.value.professionSelect),r}export(){this._usersService.getAll(this.getValues()).subscribe(r=>{this._globalService.saveDataAsCSV(r.data,"useros")})}resendSignUpEmail(r){this._usersService.resendSignUpEmail(r).subscribe(o=>{this._globalService.openSnackBar("Correo enviado",5e3,"success"),console.log(o)})}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(x.f),e.Y36(c.gz),e.Y36(c.F0),e.Y36(n.qu),e.Y36(U.U))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-users-list"]],decls:58,vars:10,consts:[[1,"w-full"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-8","w-full","mb-6"],[1,"w-full","col-span-1","text-center","sm:text-left"],[1,"text-3xl","font-bold"],[1,"text-secondary"],[1,"w-full","col-span-1"],[1,"sm:text-right"],["mat-stroked-button","",1,"w-full","sm:w-fit","rounded","mr-1","px-3","bg-primary-300","text-on-primary-300",3,"routerLink"],[3,"type",4,"ngIf"],[1,"sm:col-span-6","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","sm:col-span-3","text-center","sm:text-left"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"col-span-12","sm:col-span-9"],[1,"flex","gap-3","justify-end",3,"formGroup"],[1,"w-full","sm:w-2/5"],["type","text","matInput",""],[1,"w-1/5"],[1,"flex","mt-7","gap-1"],["mat-stroked-button","",1,"rounded","w-full","p-0","bg-primary-300","text-on-primary-300",3,"click"],[1,"flex","flex-col","flex-auto","mt-2","overflow-x-auto"],["mat-table","",1,"md:min-w-240","overflow-y-visible",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["data-label","ID","mat-cell","",4,"matCellDef"],["matColumnDef","nombres"],["data-label","Nombres","mat-cell","",4,"matCellDef"],["matColumnDef","email"],["data-label","Email","mat-cell","",4,"matCellDef"],["matColumnDef","role"],["data-label","Rol","mat-cell","",4,"matCellDef"],["matColumnDef","broker_phone"],["data-label","Telefono Corredora","mat-cell","",4,"matCellDef"],["matColumnDef","broker_address"],["data-label","Direccion corredora","mat-cell","",4,"matCellDef"],["matColumnDef","status"],["data-label","Status","mat-cell","","class","px-5",4,"matCellDef"],["matColumnDef","acciones"],["data-label","Acciones","mat-cell","",4,"matCellDef"],["class","table-header","mat-header-row","",4,"matHeaderRowDef"],["class","cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page"],[3,"type"],["fuseAlertTitle",""],[4,"ngIf"],["mat-header-cell",""],["data-label","ID","mat-cell",""],[1,"font-medium"],["data-label","Nombres","mat-cell",""],["data-label","Email","mat-cell",""],["data-label","Rol","mat-cell",""],["data-label","Telefono Corredora","mat-cell",""],["data-label","Direccion corredora","mat-cell",""],["data-label","Status","mat-cell","",1,"px-5"],["class","text-orange-600 font-semibold",4,"ngIf"],["class","text-green-600 font-semibold",4,"ngIf"],[1,"text-orange-600","font-semibold"],[1,"text-green-600","font-semibold"],["data-label","Acciones","mat-cell",""],[1,"flex","justify-end","gap-2"],[1,"1/2"],["mat-stroked-button","",1,"rounded","bg-primary-300","text-on-primary-300",3,"click"],["class","1/2",4,"ngIf"],["mat-header-row","",1,"table-header"],["mat-row","",1,"cursor-pointer"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Usuarios"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"Una lista de usuarios registradas en el sistema"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"button",7),e._uU(10,"Crear Usuario"),e.qZA()()(),e.TgZ(11,"div",5),e.YNc(12,Y,7,3,"fuse-alert",8),e.qZA()(),e.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12),e._uU(17,"Detalles de usuario"),e.qZA()(),e.TgZ(18,"div",13)(19,"div",14)(20,"div",15)(21,"mat-form-field",0)(22,"mat-label"),e._uU(23,"Buscar Usuario"),e.qZA(),e._UZ(24,"input",16),e.qZA()(),e.TgZ(25,"div",17)(26,"div",18)(27,"button",19),e.NdJ("click",function(){return o.filterUsers()}),e._uU(28,"Buscar"),e.qZA()()()()()(),e.TgZ(29,"div",20)(30,"table",21),e.ynx(31,22),e.YNc(32,I,2,0,"th",23),e.YNc(33,Q,3,1,"td",24),e.BQk(),e.ynx(34,25),e.YNc(35,J,2,0,"th",23),e.YNc(36,L,3,1,"td",26),e.BQk(),e.ynx(37,27),e.YNc(38,q,2,0,"th",23),e.YNc(39,k,3,1,"td",28),e.BQk(),e.ynx(40,29),e.YNc(41,D,2,0,"th",23),e.YNc(42,E,3,1,"td",30),e.BQk(),e.ynx(43,31),e.YNc(44,O,2,0,"th",23),e.YNc(45,B,3,1,"td",32),e.BQk(),e.ynx(46,33),e.YNc(47,G,2,0,"th",23),e.YNc(48,P,3,1,"td",34),e.BQk(),e.ynx(49,35),e.YNc(50,$,2,0,"th",23),e.YNc(51,z,4,2,"td",36),e.BQk(),e.ynx(52,37),e.YNc(53,V,2,0,"th",23),e.YNc(54,X,6,1,"td",38),e.BQk(),e.YNc(55,K,1,0,"tr",39),e.YNc(56,W,1,0,"tr",40),e.qZA(),e.TgZ(57,"mat-paginator",41),e.NdJ("page",function(l){return o.paginate(l)}),e.qZA()()()()),2&r&&(e.xp6(9),e.Q6J("routerLink","/usuarios/crear"),e.xp6(3),e.Q6J("ngIf",o.m),e.xp6(7),e.Q6J("formGroup",o.seachFormGroup),e.xp6(11),e.Q6J("dataSource",o.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",o.columns),e.xp6(1),e.Q6J("matRowDefColumns",o.columns),e.xp6(1),e.Q6J("length",null==o.usersPaginated?null:o.usersPaginated.total)("pageSize",null==o.usersPaginated?null:o.usersPaginated.per_page)("pageSizeOptions",e.DdM(9,ee)))},dependencies:[p.O5,d.lW,u.KE,u.hX,n.JL,n.sg,c.rH,f.Nt,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,N.W,b.NW],styles:["tr.mat-row,   tr.mat-footer-row{height:100%!important}@media screen and (max-width: 960px){.mat-table[_ngcontent-%COMP%]{border:0;vertical-align:middle}.table-header[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{border-bottom:5px solid #ddd;display:block}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;display:block;font-size:1em;text-align:right;font-weight:700;height:30px;margin-bottom:4%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;text-transform:uppercase;font-weight:400;font-size:.85em}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{border-bottom:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}}"]}),t})();var _=i(2340),Z=i(529);let re=(()=>{class t{constructor(r){this._http=r}getAllRoles(){return this._http.get(`${_.N.api}/get-all-roles`)}}return t.\u0275fac=function(r){return new(r||t)(e.LFG(Z.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oe=(()=>{class t{constructor(r){this._http=r}getAll(){return this._http.get(`${_.N.api}/brokers/get-all`)}}return t.\u0275fac=function(r){return new(r||t)(e.LFG(Z.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=i(4385),ae=i(3238),C=i(7392),T=i(6709),ie=i(6812);function se(t,a){if(1&t&&(e.TgZ(0,"fuse-alert",28),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.Q6J("appearance","outline")("showIcon",!1)("type",r.alert.type)("@shake","error"===r.alert.type),e.xp6(1),e.hij(" ",r.alert.message," ")}}function ne(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function le(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function me(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const r=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.userForm.get("first_name").errors[r]," ")}}function ce(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,me,2,1,"ng-container",15),e.qZA()),2&t){const r=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.userForm.get("code").hasError(r))}}function ue(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function pe(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function fe(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const r=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.userForm.get("last_name").errors[r]," ")}}function ge(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,fe,2,1,"ng-container",15),e.qZA()),2&t){const r=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.userForm.get("code").hasError(r))}}function de(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const r=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.userForm.get("email").errors[r]," ")}}function _e(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,de,2,1,"ng-container",15),e.qZA()),2&t){const r=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.userForm.get("email").hasError(r))}}function he(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const r=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.userForm.get("phone").errors[r]," ")}}function ve(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,he,2,1,"ng-container",15),e.qZA()),2&t){const r=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.userForm.get("phone").hasError(r))}}function xe(t,a){if(1&t&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&t){const r=a.$implicit;e.Q6J("value",r.id),e.xp6(1),e.Oqu(r.name)}}function Ue(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const r=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.userForm.get("role_id").errors[r]," ")}}function be(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,Ue,2,1,"ng-container",15),e.qZA()),2&t){const r=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.userForm.get("role_id").hasError(r))}}function Ze(t,a){if(1&t&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&t){const r=a.$implicit;e.Q6J("value",r.id),e.xp6(1),e.Oqu(r.name)}}function Ce(t,a){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const r=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",o.userForm.get("broker_id").errors[r]," ")}}function Te(t,a){if(1&t&&(e.TgZ(0,"mat-error"),e.YNc(1,Ce,2,1,"ng-container",15),e.qZA()),2&t){const r=a.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.userForm.get("broker_id").hasError(r))}}function Ae(t,a){if(1&t&&(e.TgZ(0,"div",20)(1,"mat-form-field",13)(2,"mat-label"),e._uU(3,"Corredora"),e.qZA(),e.TgZ(4,"mat-select",30),e.YNc(5,Ze,2,2,"mat-option",22),e.qZA(),e.YNc(6,Te,2,1,"mat-error",16),e.qZA()()),2&t){const r=e.oxw();e.xp6(5),e.Q6J("ngForOf",r.brokers),e.xp6(1),e.Q6J("ngForOf",r._globalService.errorsLength(r.userForm.get("broker_id")))}}function Fe(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"div")(1,"div",31),e._UZ(2,"img",32,33),e.TgZ(4,"button",34),e.NdJ("click",function(){e.CHM(r);const s=e.oxw();return e.KtG(s.removeImg())}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()()()()}if(2&t){const r=e.oxw();e.xp6(2),e.Q6J("src",r.userImg,e.LSH)}}let A=(()=>{class t{constructor(r,o,s,l,g,Qe,Je){this._globalService=r,this._activateRoute=o,this._formBuilder=s,this._router=l,this._usersService=g,this._entityPropertiesService=Qe,this._brokersService=Je,this.alert={type:"success",message:""},this.showAlert=!1,this.userID=""}ngOnInit(){this._brokersService.getAll().subscribe(r=>{this.brokers=r.data}),this._entityPropertiesService.getAllRoles().subscribe(r=>{console.log(r),this.roles=r.data}),this.initForm(),this._activateRoute.params.subscribe(r=>{r.id&&(this.userID=r.id,this.getUser())})}onFileChange(r){this.userForm.get("img").setValue(r),this.userForm.get("img_changed").setValue(!0);const o=new FileReader;r&&(o.readAsDataURL(r),o.onload=()=>{this.userImg=o.result})}initForm(){this.userForm=this._formBuilder.group({first_name:[""],last_name:[""],email:[""],phone:[""],broker_id:[""],role_id:[""],img:[""],verified:[!1],img_changed:[!1]})}getUser(){this._usersService.get(this.userID).subscribe(r=>{this.userForm.patchValue(r.data),r.data.img&&(this.userImg=_.N.assets+"/files/"+r.data.img)})}createUser(){this.userForm.invalid?this.userForm.markAllAsTouched():(this.userForm.disable(),this.userForm.updateValueAndValidity(),this.showAlert=!1,this._usersService.create(this.userForm.value).pipe().subscribe(()=>{this.userForm.enable(),this._router.navigate(["/usuarios/lista",{m:1}])},r=>{this.userForm.enable(),r.message===this._globalService.httpValidationErrorMessage&&(this.userForm=this._globalService.getValidationErrors(this.userForm,r),this.alert={type:"error",message:`${r.message}`},this.showAlert=!0)}))}updateUser(){this.userForm.markAllAsTouched(),!this.userForm.invalid&&(this.userForm.disable(),this.showAlert=!1,this._usersService.update(this.userID,this.userForm.value).pipe().subscribe(()=>{this.userForm.enable(),this._router.navigate(["/usuarios/lista",{m:2}])},r=>{this.userForm.enable(),r.message===this._globalService.httpValidationErrorMessage&&(this.userForm=this._globalService.getValidationErrors(this.userForm,r),this.alert={type:"error",message:`${r.message}`},this.showAlert=!0)}))}removeImg(){this.userForm.get("img").setValue(""),this.userForm.get("img_changed").setValue(!0),this.userImg=""}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(U.U),e.Y36(c.gz),e.Y36(n.qu),e.Y36(c.F0),e.Y36(x.f),e.Y36(re),e.Y36(oe))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-manage-user"]],decls:59,vars:18,consts:[[1,"w-full","max-w-3xl","m-auto"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-8","w-full","mb-8"],[1,"w-full","col-span-1","text-center","sm:text-left"],[1,"text-3xl","font-bold"],[1,"text-secondary"],[1,"w-full","col-span-1",3,"formGroup"],[1,"w-fit","mx-auto","sm:w-full"],["formControlName","verified",1,"flex","w-full","justify-end","items-center"],[1,"col-span-1","relative"],[1,"absolute","-translate-y-2/4","top-2/4","left-0","right-0"],[3,"appearance","showIcon","type",4,"ngIf"],[1,"grid","sm:grid-cols-2","gap-y-1","gap-x-5","w-full","mt-8",3,"formGroup"],[1,"col-span-2","sm:col-span-1"],[1,"w-full"],["id","first_name","type","text","formControlName","first_name","matInput",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","last_name","type","text","formControlName","last_name","matInput",""],["id","email","type","text","formControlName","email","matInput",""],["id","phone","type","text","formControlName","phone","matInput",""],[1,"col-span-2"],["formControlName","role_id"],[3,"value",4,"ngFor","ngForOf"],["class","col-span-2",4,"ngIf"],[3,"label","multiple","fileChange"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"],[3,"appearance","showIcon","type"],[3,"value"],["formControlName","broker_id"],[1,"relative","w-fit","m-auto","mt-4"],["alt","",1,"h-56","w-auto","m-auto",3,"src"],["userImgTagRef",""],["mat-mini-fab","",1,"mt-2","bg-red-500","text-white","m-auto","absolute","top-3","right-4",3,"click"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"form")(2,"div",1)(3,"div",2)(4,"div",3),e._uU(5,"Crear Usuario"),e.qZA(),e.TgZ(6,"div",4),e._uU(7,"Ingresa la informacion para crear un usuario"),e.qZA()(),e.TgZ(8,"div",5)(9,"div",6)(10,"mat-checkbox",7),e._uU(11,"Usuario verificado"),e.qZA()()(),e.TgZ(12,"div",8)(13,"div",9),e.YNc(14,se,2,5,"fuse-alert",10),e.qZA()()(),e.TgZ(15,"div",11)(16,"div",12)(17,"mat-form-field",13)(18,"mat-label"),e._uU(19,"Nombres"),e.qZA(),e._UZ(20,"input",14),e.YNc(21,ne,2,0,"mat-error",15),e.YNc(22,le,2,0,"mat-error",15),e.YNc(23,ce,2,1,"mat-error",16),e.qZA()(),e.TgZ(24,"div",12)(25,"mat-form-field",13)(26,"mat-label"),e._uU(27,"Apellidos"),e.qZA(),e._UZ(28,"input",17),e.YNc(29,ue,2,0,"mat-error",15),e.YNc(30,pe,2,0,"mat-error",15),e.YNc(31,ge,2,1,"mat-error",16),e.qZA()(),e.TgZ(32,"div",12)(33,"mat-form-field",13)(34,"mat-label"),e._uU(35,"Email"),e.qZA(),e._UZ(36,"input",18),e.YNc(37,_e,2,1,"mat-error",16),e.qZA()(),e.TgZ(38,"div",12)(39,"mat-form-field",13)(40,"mat-label"),e._uU(41,"Telefono"),e.qZA(),e._UZ(42,"input",19),e.YNc(43,ve,2,1,"mat-error",16),e.qZA()(),e.TgZ(44,"div",20)(45,"mat-form-field",13)(46,"mat-label"),e._uU(47,"Rol de usuario"),e.qZA(),e.TgZ(48,"mat-select",21),e.YNc(49,xe,2,2,"mat-option",22),e.qZA(),e.YNc(50,be,2,1,"mat-error",16),e.qZA()(),e.YNc(51,Ae,7,2,"div",23),e.TgZ(52,"div",20)(53,"file-input",24),e.NdJ("fileChange",function(l){return o.onFileChange(l)}),e.qZA(),e.YNc(54,Fe,7,1,"div",15),e.qZA()(),e._UZ(55,"div",25),e.TgZ(56,"div",26)(57,"button",27),e.NdJ("click",function(){return o.userID?o.updateUser():o.createUser()}),e._uU(58,"Guardar "),e.qZA()()()()),2&r&&(e.xp6(8),e.Q6J("formGroup",o.userForm),e.xp6(6),e.Q6J("ngIf",o.showAlert),e.xp6(1),e.Q6J("formGroup",o.userForm),e.xp6(6),e.Q6J("ngIf",o.userForm.get("first_name").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.userForm.get("first_name").hasError("first_name")),e.xp6(1),e.Q6J("ngForOf",o._globalService.errorsLength(o.userForm.get("first_name"))),e.xp6(6),e.Q6J("ngIf",o.userForm.get("last_name").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.userForm.get("last_name").hasError("last_name")),e.xp6(1),e.Q6J("ngForOf",o._globalService.errorsLength(o.userForm.get("last_name"))),e.xp6(6),e.Q6J("ngForOf",o._globalService.errorsLength(o.userForm.get("email"))),e.xp6(6),e.Q6J("ngForOf",o._globalService.errorsLength(o.userForm.get("phone"))),e.xp6(6),e.Q6J("ngForOf",o.roles),e.xp6(1),e.Q6J("ngForOf",o._globalService.errorsLength(o.userForm.get("role_id"))),e.xp6(1),e.Q6J("ngIf",3===o.userForm.get("role_id").value),e.xp6(2),e.Q6J("label","Imagen de perfil")("multiple",!1),e.xp6(1),e.Q6J("ngIf",o.userImg),e.xp6(3),e.Q6J("color","primary"))},dependencies:[p.sg,p.O5,u.TO,u.KE,u.hX,f.Nt,h.gD,ae.ey,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,n.F,C.Hw,T.oG,d.lW,ie.Y]}),t})();const ye=[{path:"lista",component:te},{path:"crear",component:A},{path:"editar/:id",component:A},{path:"",pathMatch:"full",redirectTo:"lista"}];var F=i(979);let Se=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,u.lN,f.c,h.LD,n.UX,n.u5,C.Ps,T.p9,d.ot,F.c]}),t})();var Ne=i(7775),we=i(3231),Me=i(266);let Ye=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,d.ot,u.lN,h.LD,n.UX,c.Bz,n.u5,f.c,Me.AV,f.c,m.p0,we.Co,Ne.fC,b.TU,F.c]}),t})(),Ie=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,c.Bz.forChild(ye),Se,Ye]}),t})()}}]);