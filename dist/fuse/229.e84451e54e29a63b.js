"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[229],{6812:(E,m,e)=>{e.d(m,{Y:()=>o});var t=e(4650),i=e(4006),d=e(2340),f=e(6895),g=e(9549),C=e(4144),_=e(7392),h=e(4859);const u=["fileInput"];function v(r,n){if(1&r){const l=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(l);const s=t.oxw();return t.KtG(s.removeFile())}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}}const T=function(r,n){return{"w-10/12":r,"w-full":n}};let o=(()=>{class r{constructor(){this.fileChange=new t.vpe,this.multiple=!0,this.label="Subir archivo",this.fileChanged=!1,this.fileName=new i.NI({value:"",disabled:!0}),this.base64=""}fileToBase64(l){return new Promise((a,s)=>{const p=new FileReader;p.readAsDataURL(l),p.onload=()=>a(p.result),p.onerror=c=>s(c)})}ngOnInit(){console.log(this.multiple),this.fileControl?.valueChanges.subscribe(l=>{l&&(this.base64=`${d.N.assets}/files/${l}`,this.fileName.setValue(l))})}ngOnChanges(l){}selectFile(l){let s=l.target.files;this.multiple||(s=s[0]),this.fileChange.emit(s)}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["file-input"]],viewQuery:function(l,a){if(1&l&&t.Gf(u,5),2&l){let s;t.iGM(s=t.CRH())&&(a.fileInput=s.first)}},inputs:{fileControl:"fileControl",fileChangedControl:"fileChangedControl",multiple:"multiple",label:"label"},outputs:{fileChange:"fileChange"},features:[t.TTD],decls:15,vars:15,consts:[[1,"cont"],[1,"description"],[1,"w-full","file-input","flex","gap-2","items-center"],[3,"ngClass"],[1,"w-full"],["matInput","",1,"h-full","p-0",3,"formControl"],[1,"flex","items-center","gap-4"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"rounded","mr-1","p-0","bg-primary-300","text-on-primary-300","w-52",3,"click"],["type","file","multiple","",3,"change"],["fileInputMultiple",""],["type","file",3,"change"],["fileInput",""],["mat-button","",3,"click"]],template:function(l,a){if(1&l){const s=t.EpF();t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"mat-form-field",4),t._UZ(6,"input",5),t.TgZ(7,"div",6),t.YNc(8,v,3,0,"button",7),t.TgZ(9,"button",8),t.NdJ("click",function(){t.CHM(s);const c=t.MAs(12),M=t.MAs(14);return t.KtG(a.multiple?c.click():M.click())}),t._uU(10,"Seleccionar archivo"),t.qZA()(),t.TgZ(11,"input",9,10),t.NdJ("change",function(c){return a.selectFile(c)}),t.qZA(),t.TgZ(13,"input",11,12),t.NdJ("change",function(c){return a.selectFile(c)}),t.qZA()()()()()}2&l&&(t.xp6(2),t.Oqu(a.label),t.xp6(2),t.Q6J("ngClass",t.WLB(12,T,a.base64,!a.base64)),t.xp6(2),t.Q6J("formControl",a.fileName),t.xp6(2),t.Q6J("ngIf",a.fileName.value),t.xp6(3),t.ekj("input-active",a.multiple)("hidden",!a.multiple),t.xp6(2),t.ekj("input-active",!a.multiple)("hidden",a.multiple))},dependencies:[f.mk,f.O5,i.Fj,i.JJ,i.oH,g.KE,C.Nt,_.Hw,h.lW],styles:[".file-input .mat-form-field-flex{padding-right:0!important}  .file-input .mat-form-field-wrapper{margin:0!important}.file-input[_ngcontent-%COMP%]{border:2px dashed #ccc;border-radius:20px;padding:20px}.description[_ngcontent-%COMP%]{font-weight:500;color:#1e293bd9;letter-spacing:normal;margin-left:6px;margin-bottom:8px}.input-active[_ngcontent-%COMP%]{position:absolute;width:100%;height:200%;opacity:0}"]}),r})()},979:(E,m,e)=>{e.d(m,{c:()=>h});var t=e(6895),i=e(4006),d=e(4144),f=e(9549),g=e(4859),C=e(7392),_=e(4650);let h=(()=>{class u{}return u.\u0275fac=function(T){return new(T||u)},u.\u0275mod=_.oAB({type:u}),u.\u0275inj=_.cJS({imports:[t.ez,i.u5,i.UX,d.c,f.lN,C.Ps,g.ot]}),u})()},1229:(E,m,e)=>{e.r(m),e.d(m,{TestModule:()=>T});var t=e(6895),i=e(4650),d=e(2340),f=e(529);let g=(()=>{class o{constructor(n){this._http=n}uploadFile(n){const l=new FormData;return l.append("file",n),this._http.post(`${d.N.api}/contacts/upload-file`,l)}}return o.\u0275fac=function(n){return new(n||o)(i.LFG(f.eN))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var C=e(6812);let _=(()=>{class o{constructor(n){this._testService=n}ngOnInit(){}fileChange(n){console.log(n),this.file=n}uploadFile(){this._testService.uploadFile(this.file).subscribe(n=>{console.log(n)})}}return o.\u0275fac=function(n){return new(n||o)(i.Y36(g))},o.\u0275cmp=i.Xpm({type:o,selectors:[["app-test"]],decls:6,vars:0,consts:[[1,"w-140"],[3,"fileChange"],[3,"click"]],template:function(n,l){1&n&&(i.TgZ(0,"div")(1,"div",0)(2,"file-input",1),i.NdJ("fileChange",function(s){return l.fileChange(s)}),i.qZA()(),i.TgZ(3,"div")(4,"button",2),i.NdJ("click",function(){return l.uploadFile()}),i._uU(5,"Cargar"),i.qZA()()())},dependencies:[C.Y]}),o})();var h=e(4364),u=e(979);const v=[{path:"",component:_}];let T=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[t.ez,h.Bz.forChild(v),u.c]}),o})()}}]);