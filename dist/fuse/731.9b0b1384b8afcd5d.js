(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[731],{9731:(S,F,s)=>{"use strict";s.r(F),s.d(F,{default:()=>Ee});var p=s(9401),T=s(2340),Z=s(430),v=s(1728),A=s(6812),g=s(1217),_=s(787),c=s(4755),u=s(9609),a=s(9114),i=s(1292),l=s(2342),e=s(2223),m=s(4031),d=s(2480),h=s(4781),U=s(3144);let N=(()=>{class r{constructor(t){this._http=t}getAllRoles(){return this._http.get(`${T.N.api}/get-all-roles`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(U.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),y=(()=>{class r{constructor(t){this._http=t}getAll(){return this._http.get(`${T.N.api}/brokers/get-all`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(U.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var C=s(7495);function Y(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function D(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function O(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.userForm.get("first_name").errors[t]," ")}}function k(r,n){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,O,2,1,"ng-container",14),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.userForm.get("code").hasError(t))}}function I(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function J(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function Q(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.userForm.get("last_name").errors[t]," ")}}function q(r,n){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,Q,2,1,"ng-container",14),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.userForm.get("code").hasError(t))}}function B(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.userForm.get("email").errors[t]," ")}}function j(r,n){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,B,2,1,"ng-container",14),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.userForm.get("email").hasError(t))}}function R(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.userForm.get("phone").errors[t]," ")}}function P(r,n){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,R,2,1,"ng-container",14),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.userForm.get("phone").hasError(t))}}function $(r,n){if(1&r&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function G(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.hij(" ",o.userForm.get("role_id").errors[t]," ")}}function z(r,n){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,G,2,1,"ng-container",14),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.userForm.get("role_id").hasError(t))}}function V(r,n){if(1&r&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function H(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",o.userForm.get("role_id").errors[t]," ")}}function K(r,n){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,H,2,1,"ng-container",14),e.qZA()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.userForm.get("role_id").hasError(t))}}function W(r,n){if(1&r&&(e.TgZ(0,"div",19)(1,"mat-form-field",12)(2,"mat-label"),e._uU(3,"Broker"),e.qZA(),e.TgZ(4,"mat-select",20),e.YNc(5,V,2,2,"mat-option",21),e.qZA(),e.YNc(6,K,2,1,"mat-error",15),e.qZA()()),2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.brokers),e.xp6(1),e.Q6J("ngForOf",t._globalService.errorsLength(t.userForm.get("role_id")))}}function X(r,n){if(1&r&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ee(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",o.userForm.get("broker_id").errors[t]," ")}}function te(r,n){if(1&r&&(e.TgZ(0,"mat-error"),e.YNc(1,ee,2,1,"ng-container",14),e.qZA()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.userForm.get("broker_id").hasError(t))}}function re(r,n){if(1&r&&(e.TgZ(0,"div",19)(1,"mat-form-field",12)(2,"mat-label"),e._uU(3,"Corredora"),e.qZA(),e.TgZ(4,"mat-select",28),e.YNc(5,X,2,2,"mat-option",21),e.qZA(),e.YNc(6,te,2,1,"mat-error",15),e.qZA()()),2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.brokers),e.xp6(1),e.Q6J("ngForOf",t._globalService.errorsLength(t.userForm.get("broker_id")))}}function oe(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div",29),e._UZ(2,"img",30,31),e.TgZ(4,"button",32),e.NdJ("click",function(){e.CHM(t);const f=e.oxw();return e.KtG(f.removeImg())}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("src",t.userImg,e.LSH)}}let M=(()=>{class r{constructor(t,o,f,x,w,E,Me,Le){this._globalService=t,this._activateRoute=o,this._formBuilder=f,this._router=x,this._usersService=w,this._entityPropertiesService=E,this._brokersService=Me,this._userService=Le,this.alert={type:"success",message:""},this.showAlert=!1,this.userID=""}ngOnInit(){this._brokersService.getAll().subscribe(t=>{this.brokers=t.data,console.log(this.brokers)}),this._entityPropertiesService.getAllRoles().subscribe(t=>{console.log(t,"rol"),this.roles=t.data}),this.initForm(),this._activateRoute.params.subscribe(t=>{t.id&&(this.userID=t.id,this.getUser())}),this._userService.user$.subscribe(t=>{console.log(t.role.id),this.user_rol=t.role.id})}onFileChange(t){this.userForm.get("img").setValue(t),this.userForm.get("img_changed").setValue(!0);const o=new FileReader;t&&(o.readAsDataURL(t),o.onload=()=>{this.userImg=o.result})}initForm(){this.userForm=this._formBuilder.group({first_name:[""],last_name:[""],email:[""],phone:[""],broker_id:[""],role_id:[""],img:[""],verified:[!1],img_changed:[!1]})}getUser(){this._usersService.get(this.userID).subscribe(t=>{this.userForm.patchValue(t.data),t.data.img&&(this.userImg=T.N.assets+"/files/"+t.data.img)})}createUser(){this.userForm.invalid?this.userForm.markAllAsTouched():(this.userForm.disable(),this.userForm.updateValueAndValidity(),this.showAlert=!1,this._usersService.create(this.userForm.value).subscribe(()=>{this.userForm.enable(),this._router.navigate(["/usuarios/lista",{m:1}])},t=>{this.userForm.enable(),t.message===this._globalService.httpValidationErrorMessage&&(this.userForm=this._globalService.getValidationErrors(this.userForm,t),this.alert={type:"error",message:`${t.message}`},this.showAlert=!0)}))}updateUser(){this.userForm.markAllAsTouched(),!this.userForm.invalid&&(this.userForm.disable(),this.showAlert=!1,this._usersService.update(this.userID,this.userForm.value).pipe().subscribe(()=>{this.userForm.enable(),this._router.navigate(["/usuarios/lista",{m:2}])},t=>{this.userForm.enable(),t.message===this._globalService.httpValidationErrorMessage&&(this.userForm=this._globalService.getValidationErrors(this.userForm,t),this.alert={type:"error",message:`${t.message}`},this.showAlert=!0)}))}removeImg(){this.userForm.get("img").setValue(""),this.userForm.get("img_changed").setValue(!0),this.userImg=""}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m.U),e.Y36(d.gz),e.Y36(p.qu),e.Y36(d.F0),e.Y36(h.f),e.Y36(N),e.Y36(y),e.Y36(C.K))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-manage-user"]],standalone:!0,features:[e.jDz],decls:59,vars:18,consts:[[1,"w-full","max-w-3xl","m-auto"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-8","w-full","mb-8"],[1,"w-full","col-span-1","text-center","sm:text-left"],[1,"text-3xl","font-bold"],[1,"text-secondary"],[1,"w-full","col-span-1",3,"formGroup"],[1,"w-fit","mx-auto","sm:w-full"],["formControlName","verified",1,"flex","w-full","justify-end","items-center"],[1,"col-span-1","relative"],[1,"absolute","-translate-y-2/4","top-2/4","left-0","right-0"],[1,"grid","sm:grid-cols-2","gap-y-1","gap-x-5","w-full","mt-8",3,"formGroup"],[1,"col-span-2","sm:col-span-1"],[1,"w-full"],["id","first_name","type","text","formControlName","first_name","matInput",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["id","last_name","type","text","formControlName","last_name","matInput",""],["id","email","type","text","formControlName","email","matInput",""],["id","phone","type","text","formControlName","phone","matInput",""],[1,"col-span-2"],["formControlName","role_id"],[3,"value",4,"ngFor","ngForOf"],["class","col-span-2",4,"ngIf"],[3,"label","multiple","fileChange"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"],[3,"value"],["formControlName","broker_id"],[1,"relative","w-fit","m-auto","mt-4"],["alt","",1,"h-56","w-auto","m-auto",3,"src"],["userImgTagRef",""],["mat-mini-fab","",1,"mt-2","bg-red-500","text-white","m-auto","absolute","top-3","right-4",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form")(2,"div",1)(3,"div",2)(4,"div",3),e._uU(5,"Crear Usuario"),e.qZA(),e.TgZ(6,"div",4),e._uU(7,"Ingresa la informacion para crear un usuario"),e.qZA()(),e.TgZ(8,"div",5)(9,"div",6)(10,"mat-checkbox",7),e._uU(11,"Usuario verificado"),e.qZA()()(),e.TgZ(12,"div",8),e._UZ(13,"div",9),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11)(16,"mat-form-field",12)(17,"mat-label"),e._uU(18,"Nombres"),e.qZA(),e._UZ(19,"input",13),e.YNc(20,Y,2,0,"mat-error",14),e.YNc(21,D,2,0,"mat-error",14),e.YNc(22,k,2,1,"mat-error",15),e.qZA()(),e.TgZ(23,"div",11)(24,"mat-form-field",12)(25,"mat-label"),e._uU(26,"Apellidos"),e.qZA(),e._UZ(27,"input",16),e.YNc(28,I,2,0,"mat-error",14),e.YNc(29,J,2,0,"mat-error",14),e.YNc(30,q,2,1,"mat-error",15),e.qZA()(),e.TgZ(31,"div",11)(32,"mat-form-field",12)(33,"mat-label"),e._uU(34,"Email"),e.qZA(),e._UZ(35,"input",17),e.YNc(36,j,2,1,"mat-error",15),e.qZA()(),e.TgZ(37,"div",11)(38,"mat-form-field",12)(39,"mat-label"),e._uU(40,"Telefono"),e.qZA(),e._UZ(41,"input",18),e.YNc(42,P,2,1,"mat-error",15),e.qZA()(),e.TgZ(43,"div",19)(44,"mat-form-field",12)(45,"mat-label"),e._uU(46,"Rol de usuario"),e.qZA(),e.TgZ(47,"mat-select",20),e.YNc(48,$,2,2,"mat-option",21),e.qZA(),e.YNc(49,z,2,1,"mat-error",15),e.qZA()(),e.YNc(50,W,7,2,"div",22),e.YNc(51,re,7,2,"div",22),e.TgZ(52,"div",19)(53,"file-input",23),e.NdJ("fileChange",function(x){return o.onFileChange(x)}),e.qZA(),e.YNc(54,oe,7,1,"div",14),e.qZA()(),e._UZ(55,"div",24),e.TgZ(56,"div",25)(57,"button",26),e.NdJ("click",function(){return o.userID?o.updateUser():o.createUser()}),e._uU(58,"Guardar"),e.qZA()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",o.userForm),e.xp6(6),e.Q6J("formGroup",o.userForm),e.xp6(6),e.Q6J("ngIf",o.userForm.get("first_name").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.userForm.get("first_name").hasError("first_name")),e.xp6(1),e.Q6J("ngForOf",o._globalService.errorsLength(o.userForm.get("first_name"))),e.xp6(6),e.Q6J("ngIf",o.userForm.get("last_name").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.userForm.get("last_name").hasError("last_name")),e.xp6(1),e.Q6J("ngForOf",o._globalService.errorsLength(o.userForm.get("last_name"))),e.xp6(6),e.Q6J("ngForOf",o._globalService.errorsLength(o.userForm.get("email"))),e.xp6(6),e.Q6J("ngForOf",o._globalService.errorsLength(o.userForm.get("phone"))),e.xp6(6),e.Q6J("ngForOf",o.roles),e.xp6(1),e.Q6J("ngForOf",o._globalService.errorsLength(o.userForm.get("role_id"))),e.xp6(1),e.Q6J("ngIf",1===o.user_rol),e.xp6(1),e.Q6J("ngIf",3===o.userForm.get("role_id").value),e.xp6(2),e.Q6J("label","Imagen de perfil")("multiple",!1),e.xp6(1),e.Q6J("ngIf",o.userImg),e.xp6(3),e.Q6J("color","primary"))},dependencies:[p.u5,p._Y,p.Fj,p.JJ,p.JL,p.F,p.UX,p.sg,p.u,i.p9,i.oG,a.lN,a.KE,a.hX,a.TO,u.c,u.Nt,c.O5,c.ax,_.LD,_.gD,g.ey,g.Ng,A.Y,v.ot,v.lW,v.nh,Z.Ps,Z.Hw,l.ZX],encapsulation:2}),r})();var b=s(3627),ne=s(7579),ae=s(2722),L=s(3276),ie=s(3649),se=s(979),le=s(3231);function ce(r,n){1&r&&(e.TgZ(0,"th",41),e._uU(1,"ID"),e.qZA())}function me(r,n){if(1&r&&(e.TgZ(0,"td",42)(1,"span",43),e._uU(2),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",t.id," ")}}function ue(r,n){1&r&&(e.TgZ(0,"th",41),e._uU(1,"Nombres y apellidos"),e.qZA())}function pe(r,n){if(1&r&&(e.TgZ(0,"td",44)(1,"span",43),e._uU(2),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",t.full_name," ")}}function de(r,n){1&r&&(e.TgZ(0,"th",41),e._uU(1,"Email"),e.qZA())}function fe(r,n){if(1&r&&(e.TgZ(0,"td",45)(1,"span",43),e._uU(2),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",t.email," ")}}function _e(r,n){1&r&&(e.TgZ(0,"th",41),e._uU(1,"Rol"),e.qZA())}function ge(r,n){if(1&r&&(e.TgZ(0,"td",46)(1,"span",43),e._uU(2),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",(null==t.role?null:t.role.name)||"-"," ")}}function he(r,n){1&r&&(e.TgZ(0,"th",41),e._uU(1,"Telefono Corredora"),e.qZA())}function ve(r,n){if(1&r&&(e.TgZ(0,"td",47)(1,"span",43),e._uU(2),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",t.broker_phone||"-"," ")}}function xe(r,n){1&r&&(e.TgZ(0,"th",41),e._uU(1,"Direccion Corredora"),e.qZA())}function be(r,n){if(1&r&&(e.TgZ(0,"td",48)(1,"span",43),e._uU(2),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.hij(" ",t.broker_address||"-"," ")}}function Ue(r,n){1&r&&(e.TgZ(0,"th",41),e._uU(1,"Status Registro"),e.qZA())}function Ze(r,n){1&r&&(e.TgZ(0,"div",52),e._uU(1,"Pendiente"),e.qZA())}function Te(r,n){1&r&&(e.TgZ(0,"div",53),e._uU(1,"Completado"),e.qZA())}function Ce(r,n){if(1&r&&(e.TgZ(0,"td",49)(1,"span",43),e.YNc(2,Ze,2,0,"div",50),e.YNc(3,Te,2,0,"div",51),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.Q6J("ngIf",!t.email_verified_at),e.xp6(1),e.Q6J("ngIf",t.email_verified_at)}}function Fe(r,n){1&r&&(e.TgZ(0,"th",41),e._uU(1,"Acciones"),e.qZA())}function Ae(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",56)(1,"button",57),e.NdJ("click",function(){e.CHM(t);const f=e.oxw().$implicit,x=e.oxw();return e.KtG(x.resendSignUpEmail(f.id))}),e._uU(2,"Reenviar Correo"),e.qZA()()}}function ye(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td",54)(1,"div",55)(2,"div",56)(3,"button",57),e.NdJ("click",function(){const x=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.goToUser(x.id))}),e._uU(4,"Editar"),e.qZA()(),e.YNc(5,Ae,3,0,"div",58),e.qZA()()}if(2&r){const t=n.$implicit;e.xp6(5),e.Q6J("ngIf",!t.email_verified_at)}}function we(r,n){1&r&&e._UZ(0,"tr",59)}function Se(r,n){1&r&&e._UZ(0,"tr",60)}const Ne=function(){return[10,25,100]},Ee=[{path:"lista",component:(()=>{class r{constructor(t,o,f,x,w,E){this._usersService=t,this._activatedRoute=o,this._router=f,this._formBuilder=x,this._globalService=w,this._matSnachBar=E,this.columns=["id","nombres","email","role","broker_phone","broker_address","status","acciones"],this.m=null,this._unsubscribeAll=new ne.x}paginate(t){this.getUsers(this.seachFormGroup.value,{page:t.pageIndex+1,perPage:t.pageSize})}ngOnInit(){this.seachFormGroup=this._formBuilder.group({termino:[""]}),this._activatedRoute.params.pipe((0,ae.R)(this._unsubscribeAll)).subscribe(t=>{t.m&&(this.m=t.m)}),this.getUsers({})}getUsers(t,o={page:1,perPage:10}){this._usersService.getList(t,o).subscribe(f=>{this.dataSource=new b.by(f.data.data),this.usersPaginated=f.data})}filter(t,o){const f=t.toLowerCase();return o.filter(x=>(x||"").toLowerCase().includes(f))}fileChange(t){this.file=t}goToUser(t){this._router.navigate(["usuarios","editar",t])}uploadFile(){this._usersService.uploadFile(this.file).subscribe(t=>{console.log(t)})}filterUsers(){this.getUsers(this.seachFormGroup.value),console.log(this.seachFormGroup.value)}getValues(){const t={};return this.seachFormGroup.value.fileSelect&&"Seleccionar"!==this.seachFormGroup.value.fileSelect&&(t.file=this.seachFormGroup.value.fileSelect),this.seachFormGroup.value.citySelect&&"Seleccionar"!==this.seachFormGroup.value.citySelect&&(t.city=this.seachFormGroup.value.citySelect),this.seachFormGroup.value.companySelect&&"Seleccionar"!==this.seachFormGroup.value.companySelect&&(t.company=this.seachFormGroup.value.companySelect),this.seachFormGroup.value.professionSelect&&"Seleccionar"!==this.seachFormGroup.value.professionSelect&&(t.profession=this.seachFormGroup.value.professionSelect),t}resendSignUpEmail(t){this._usersService.resendSignUpEmail(t).subscribe(o=>{this._globalService.openSnackBar(this._matSnachBar,"Correo enviado",5e3,"success"),console.log(o)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.f),e.Y36(d.gz),e.Y36(d.F0),e.Y36(p.qu),e.Y36(m.U),e.Y36(l.ux))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-users-list"]],standalone:!0,features:[e.jDz],decls:57,vars:9,consts:[[1,"w-full"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-8","w-full","mb-6"],[1,"w-full","col-span-1","text-center","sm:text-left"],[1,"text-3xl","font-bold"],[1,"text-secondary"],[1,"w-full","col-span-1"],[1,"sm:text-right"],["mat-stroked-button","",1,"w-full","sm:w-fit","rounded","mr-1","px-3","bg-primary-300","text-on-primary-300",3,"routerLink"],[1,"sm:col-span-6","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","sm:col-span-3","text-center","sm:text-left"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"col-span-12","sm:col-span-9"],[1,"flex","gap-3","justify-end",3,"formGroup"],[1,"w-full","sm:w-2/5"],["type","text","matInput","","formControlName","termino"],[1,"w-1/5"],[1,"flex","mt-7","gap-1"],["mat-stroked-button","",1,"rounded","w-full","p-0","bg-primary-300","text-on-primary-300",3,"click"],[1,"flex","flex-col","flex-auto","mt-2","overflow-x-auto"],["mat-table","",1,"md:min-w-240","overflow-y-visible",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["data-label","ID","mat-cell","",4,"matCellDef"],["matColumnDef","nombres"],["data-label","Nombres","mat-cell","",4,"matCellDef"],["matColumnDef","email"],["data-label","Email","mat-cell","",4,"matCellDef"],["matColumnDef","role"],["data-label","Rol","mat-cell","",4,"matCellDef"],["matColumnDef","broker_phone"],["data-label","Telefono Corredora","mat-cell","",4,"matCellDef"],["matColumnDef","broker_address"],["data-label","Direccion corredora","mat-cell","",4,"matCellDef"],["matColumnDef","status"],["data-label","Status","mat-cell","","class","px-5",4,"matCellDef"],["matColumnDef","acciones"],["data-label","Acciones","mat-cell","",4,"matCellDef"],["class","table-header header","mat-header-row","",4,"matHeaderRowDef"],["class","cursor-pointer","mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","page"],["mat-header-cell",""],["data-label","ID","mat-cell",""],[1,"font-medium"],["data-label","Nombres","mat-cell",""],["data-label","Email","mat-cell",""],["data-label","Rol","mat-cell",""],["data-label","Telefono Corredora","mat-cell",""],["data-label","Direccion corredora","mat-cell",""],["data-label","Status","mat-cell","",1,"px-5"],["class","text-orange-600 font-semibold",4,"ngIf"],["class","text-green-600 font-semibold",4,"ngIf"],[1,"text-orange-600","font-semibold"],[1,"text-green-600","font-semibold"],["data-label","Acciones","mat-cell",""],[1,"flex","justify-end","gap-2"],[1,"1/2"],["mat-stroked-button","",1,"rounded","bg-primary-300","text-on-primary-300",3,"click"],["class","1/2",4,"ngIf"],["mat-header-row","",1,"table-header","header"],["mat-row","",1,"cursor-pointer"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Usuarios"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"Una lista de usuarios registradas en el sistema"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"button",7),e._uU(10,"Crear Usuario"),e.qZA()()(),e._UZ(11,"div",5),e.qZA(),e.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),e._uU(16,"Detalles de usuario"),e.qZA()(),e.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"mat-form-field",0)(21,"mat-label"),e._uU(22,"Buscar Usuario"),e.qZA(),e._UZ(23,"input",15),e.qZA()(),e.TgZ(24,"div",16)(25,"div",17)(26,"button",18),e.NdJ("click",function(){return o.filterUsers()}),e._uU(27,"Buscar"),e.qZA()()()()()(),e.TgZ(28,"div",19)(29,"table",20),e.ynx(30,21),e.YNc(31,ce,2,0,"th",22),e.YNc(32,me,3,1,"td",23),e.BQk(),e.ynx(33,24),e.YNc(34,ue,2,0,"th",22),e.YNc(35,pe,3,1,"td",25),e.BQk(),e.ynx(36,26),e.YNc(37,de,2,0,"th",22),e.YNc(38,fe,3,1,"td",27),e.BQk(),e.ynx(39,28),e.YNc(40,_e,2,0,"th",22),e.YNc(41,ge,3,1,"td",29),e.BQk(),e.ynx(42,30),e.YNc(43,he,2,0,"th",22),e.YNc(44,ve,3,1,"td",31),e.BQk(),e.ynx(45,32),e.YNc(46,xe,2,0,"th",22),e.YNc(47,be,3,1,"td",33),e.BQk(),e.ynx(48,34),e.YNc(49,Ue,2,0,"th",22),e.YNc(50,Ce,4,2,"td",35),e.BQk(),e.ynx(51,36),e.YNc(52,Fe,2,0,"th",22),e.YNc(53,ye,6,1,"td",37),e.BQk(),e.YNc(54,we,1,0,"tr",38),e.YNc(55,Se,1,0,"tr",39),e.qZA(),e.TgZ(56,"mat-paginator",40),e.NdJ("page",function(x){return o.paginate(x)}),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("routerLink","/usuarios/crear"),e.xp6(9),e.Q6J("formGroup",o.seachFormGroup),e.xp6(11),e.Q6J("dataSource",o.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",o.columns),e.xp6(1),e.Q6J("matRowDefColumns",o.columns),e.xp6(1),e.Q6J("length",null==o.usersPaginated?null:o.usersPaginated.total)("pageSize",null==o.usersPaginated?null:o.usersPaginated.per_page)("pageSizeOptions",e.DdM(8,Ne)))},dependencies:[c.ez,c.O5,v.ot,v.lW,a.lN,a.KE,a.hX,_.LD,p.UX,p.Fj,p.JJ,p.JL,p.sg,p.u,d.Bz,d.rH,p.u5,u.c,u.Nt,ie.AV,b.p0,b.BZ,b.fO,b.as,b.w1,b.Dz,b.nj,b.ge,b.ev,b.XQ,b.Gk,le.Co,L.TU,L.NW,l.ZX,se.c],styles:["tr.mat-row,   tr.mat-footer-row{height:100%!important}@media screen and (max-width: 960px){.mat-table[_ngcontent-%COMP%]{border:0;vertical-align:middle}.table-header[_ngcontent-%COMP%]{display:none}.mat-table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{font-size:1em}.mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{border-bottom:5px solid #ddd;display:block}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;display:block;font-size:1em;text-align:right;font-weight:700;height:30px;margin-bottom:4%}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;text-transform:uppercase;font-weight:400;font-size:.85em}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{border-bottom:0}.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{margin-top:4%}}"]}),r})()},{path:"crear",component:M},{path:"editar/:id",component:M},{path:"",pathMatch:"full",redirectTo:"lista"}]},4031:(S,F,s)=>{"use strict";s.d(F,{U:()=>A});var p=s(4327),T=s.n(p),Z=s(2223),v=s(7495);let A=(()=>{class g{constructor(c,u){this._userService=c,this._ngZone=u,this.httpValidationErrorMessage="Hay errores en el formulario",this.httpGeneralErrorMessage="Ocurrio un error inesperado"}getValidationErrors(c,u){return Object.entries(u.errors?u.errors:{}).map(i=>{try{const l={};i[1].forEach((e,m)=>{l[m]=e}),c.get(i[0]).setErrors(l)}catch{}}),c}getValidationErrorsFormArray(c,u){return Object.entries(u.errors?u.errors:{}).map(i=>{try{const l={},e=i[0].split(".")[1],m=i[0].split(".")[2];i[1].forEach((d,h)=>{l[h]=d.replace(i[0],m)}),c.controls[e].get(m).setErrors(l)}catch{}}),c}errorsLength(c){return c.errors&&Object.keys(c.errors).map((u,a)=>a.toFixed(0)),[]}openSnackBar(c,u,a=3e3,i="success"){c.open(u,null,{horizontalPosition:"center",verticalPosition:"top",duration:a,panelClass:"success"===i?["bg-green-700","text-white"]:["bg-red-700","text-red-100"]})}formatDataForChart(c,u,a,i,l){const e=u.map(d=>{let h=new Date(d[a]);return h=new Date(h.getTime()-144e5),{x:h,y:d[i]}}),m=JSON.parse(JSON.stringify(c));return m.series={main:[{name:l,data:e}]},m}saveDataAsCSV(c,u){const a=(h,U)=>null===U?"":U,i=Object.keys(c[0]),l=c.map(h=>i.map(U=>JSON.stringify(h[U],a)).join(";"));l.unshift(i.join(";"));const e=l.join("\r\n"),m=new Blob([e],{type:"text/csv"});let d=new Date;d=`${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()} ${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}`,T()(m,`${u} ${d}.csv`)}}return g.\u0275fac=function(c){return new(c||g)(Z.LFG(v.K),Z.LFG(Z.R0b))},g.\u0275prov=Z.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},4327:function(S,F){var s,T;void 0!==(T="function"==typeof(s=function(){"use strict";function v(a,i,l){var e=new XMLHttpRequest;e.open("GET",a),e.responseType="blob",e.onload=function(){u(e.response,i,l)},e.onerror=function(){console.error("could not download file")},e.send()}function A(a){var i=new XMLHttpRequest;i.open("HEAD",a,!1);try{i.send()}catch{}return 200<=i.status&&299>=i.status}function g(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(i)}}var _="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,c=_.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=_.saveAs||("object"!=typeof window||window!==_?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(a,i,l){var e=_.URL||_.webkitURL,m=document.createElement("a");m.download=i=i||a.name||"download",m.rel="noopener","string"==typeof a?(m.href=a,m.origin===location.origin?g(m):A(m.href)?v(a,i,l):g(m,m.target="_blank")):(m.href=e.createObjectURL(a),setTimeout(function(){e.revokeObjectURL(m.href)},4e4),setTimeout(function(){g(m)},0))}:"msSaveOrOpenBlob"in navigator?function(a,i,l){if(i=i||a.name||"download","string"!=typeof a)navigator.msSaveOrOpenBlob(function Z(a,i){return typeof i>"u"?i={autoBom:!1}:"object"!=typeof i&&(console.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}(a,l),i);else if(A(a))v(a,i,l);else{var e=document.createElement("a");e.href=a,e.target="_blank",setTimeout(function(){g(e)})}}:function(a,i,l,e){if((e=e||open("","_blank"))&&(e.document.title=e.document.body.innerText="downloading..."),"string"==typeof a)return v(a,i,l);var m="application/octet-stream"===a.type,d=/constructor/i.test(_.HTMLElement)||_.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||m&&d||c)&&typeof FileReader<"u"){var U=new FileReader;U.onloadend=function(){var C=U.result;C=h?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=C:location=C,e=null},U.readAsDataURL(a)}else{var N=_.URL||_.webkitURL,y=N.createObjectURL(a);e?e.location=y:location.href=y,e=null,setTimeout(function(){N.revokeObjectURL(y)},4e4)}});_.saveAs=u.saveAs=u,S.exports=u})?s.apply(F,[]):s)&&(S.exports=T)}}]);