<div class="bg-white py-6 px-3">
	<ng-container *ngIf="loginOrRegister; else registroTemplate">
		<h2 class="text-[30px] font-extrabold text-gray-800">Iniciar sesión</h2>
		<form [formGroup]="loginForm" (ngSubmit)="singIn(registerForm, formDirective)" #formDirective="ngForm">
			<div class="w-full">
				<mat-form-field class="w-full mt-10">
					<mat-label>Email</mat-label>
					<input matInput formControlName="email" />
					<mat-error *ngIf="loginForm.get('email').hasError('required')">El email es requerido</mat-error>
					<mat-error *ngIf="loginForm.get('email').hasError('email')">El email no es válido</mat-error>
				</mat-form-field>
			</div>
			<div class="w-full">
				<mat-form-field class="w-full mt-2">
					<mat-label>password</mat-label>
					<input matInput type="password" formControlName="password" />
					<mat-error *ngIf="loginForm.get('password').hasError('required')">La contraseña es requerida</mat-error>
				</mat-form-field>
			</div>
			<div class="mt-2 w-full flex items-end cursor-pointer" (click)="changeLoginOrRegister()">
				<p class="text-blue-500">¿No tienes cuenta? Registrate</p>
			</div>
			<div class="w-full mt-4" *ngIf="showServerResponse">
				<div class="text-center bg-[#ca0f0f] text-white py-3 px-4 rounded-lg">{{ serverResponse }}</div>
			</div>

			<div class="w-full">
				<button class="w-full rounded-xl py-3 bg-blue-600 text-white mt-4" mat-stroked-button style="background: #263547">
					<div class="flex items-center gap-2 justify-center">
						<span class="text-center font-semibold">Ingresar</span>
					</div>
				</button>
			</div>

			<!-- <div class="w-full mt-4" *ngIf="showServerResponse">
				<div class="text-center bg-[#0fca98] text-white py-3 px-4 rounded-lg">{{ serverResponse }}</div>
			</div> -->
		</form>
	</ng-container>

	<ng-template #registroTemplate>
		<h2 class="text-[30px] font-extrabold text-gray-800">Registrarse</h2>
		<form [formGroup]="registerForm" (ngSubmit)="register(registerForm, formDirective)" #formDirective="ngForm">
			<div class="w-full">
				<mat-form-field class="w-full mt-4">
					<mat-label>Email</mat-label>
					<input matInput formControlName="email" />
					<mat-error *ngIf="registerForm.get('email').hasError('required')">El email es requerido</mat-error>
					<mat-error *ngIf="registerForm.get('email').hasError('email')">El email no es válido</mat-error>
				</mat-form-field>
			</div>
			<div class="w-full">
				<mat-form-field class="w-full mt-4">
					<mat-label>Nombre</mat-label>
					<input matInput formControlName="first_name" />
					<mat-error *ngIf="registerForm.get('first_name').hasError('required')">El nombre es requerido</mat-error>
				</mat-form-field>
			</div>
			<!-- <div class="w-full">
				<mat-form-field class="w-full mt-4">
					<mat-label>Telefono</mat-label>
					<input matInput formControlName="phone" />
					<mat-error *ngIf="registerForm.get('phone').hasError('required')">El email es requerido</mat-error>
				</mat-form-field>
			</div> -->
			<div class="w-full">
				<mat-form-field class="w-full mt-4">
					<mat-label>Contraseña</mat-label>
					<input matInput type="password" formControlName="password" />
					<mat-error *ngIf="registerForm.get('password').hasError('required')">La contraseña es requerida</mat-error>
				</mat-form-field>
			</div>
			<div class="w-full">
				<mat-form-field class="w-full mt-4">
					<mat-label>Repetir Contraseña</mat-label>
					<input matInput formControlName="password" />
					<mat-error *ngIf="registerForm.get('password').hasError('required')">La contraseña es requerida</mat-error>
				</mat-form-field>
			</div>
			<div class="mt-2 w-full flex items-end cursor-pointer" (click)="changeLoginOrRegister()">
				<p class="text-blue-500">¿Ya tienes cuenta? Inicia sesión</p>
			</div>
			<div class="w-full">
				<button class="w-full rounded-xl py-3 bg-blue-600 text-white mt-4" mat-stroked-button style="background: #263547">
					<div class="flex items-center gap-2 justify-center">
						<span class="text-center font-semibold">Registrarse</span>
					</div>
				</button>
			</div>
			<!-- <div class="w-full mt-4" *ngIf="showServerResponse">
				<div class="text-center bg-[#0fca98] text-white py-3 px-4 rounded-lg">{{ serverResponse }}</div>
			</div> -->
		</form>
	</ng-template>
</div>
